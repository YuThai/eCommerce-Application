# ==================== PRODUCTION CONFIGURATION ====================
# Spring Boot Application Properties - Production Profile
# Used for Render.com deployment

# ==================== SERVER CONFIGURATION ====================
server.port=${PORT:8080}
server.servlet.context-path=/
server.compression.enabled=true
server.compression.min-response-size=1024

# ==================== DATABASE CONFIGURATION ====================
# PostgreSQL Connection (Required for Render)
spring.datasource.url=jdbc:postgresql://${DB_HOST}:${DB_PORT}/${DB_NAME}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASSWORD}

# Connection Pool Configuration (for production)
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# ==================== JWT SECURITY CONFIGURATION ====================
# JWT Token Management
jwt.secret=${JWT_SECRET:secretsfhsfjhdkjngdfjkgfgjdlkfjsdkfjsd}
jwt.access-token-expiration=${JWT_ACCESS_EXPIRATION:900000}
jwt.refresh-token-expiration=${JWT_REFRESH_EXPIRATION:604800000}

# Security Configuration
spring.security.user.name=admin
spring.security.user.password=${ADMIN_PASSWORD:admin123}

# ==================== CORS & SECURITY ====================
# CORS Configuration
cors.allowed-origins=${CORS_ORIGINS:http://localhost:3000,https://yourdomain.com}
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.max-age=3600

# ==================== LOGGING ====================
# Logging Configuration
logging.level.root=INFO
logging.level.Ecom=INFO
logging.level.org.springframework.security=WARN
logging.level.org.hibernate=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# ==================== ACTUATOR (for health checks) ====================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized

# ==================== ERROR HANDLING ====================
spring.mvc.throw-exception-if-no-handler-found=true
spring.web.resources.add-mappings=false
server.error.include-message=always
server.error.include-stacktrace=never

# ==================== API DOCUMENTATION ====================
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.enabled=true

# ==================== PERFORMANCE ====================
# Disable unnecessary auto-configurations
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration

# Connection timeout
server.tomcat.connection-timeout=20000
